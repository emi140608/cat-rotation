<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cat Clicker Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }

        .game-container {
            text-align: center;
            margin-top: 20px;
        }

        #cat {
            width: 200px;
            transition: transform 0.5s;
            transform-origin: center center;
        }

        .shop, .achievements, .crates, .events {
            margin-top: 20px;
            text-align: left;
            max-width: 300px;
            margin: 0 auto;
            display: none;
        }

        .shop-item, .crate-item, .event-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .shop-item button, .crate-item button, .event-item button {
            padding: 5px 10px;
            cursor: pointer;
        }

        .disabled {
            cursor: not-allowed;
            opacity: 0.5;
        }

        .cat-emoji {
            position: absolute;
            font-size: 2rem;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>Cat Clicker Game</h1>
        <p>Score: <span id="score">0</span></p>
        <img id="cat" src="uiia-cat.png" alt="Cat">
        <button onclick="toggleShop()">Toggle Shop</button>
        <button onclick="toggleAchievements()">Toggle Achievements</button>
        <button onclick="toggleCrates()">Toggle Crates</button>
    </div>

    <div class="shop">
        <h2>Shop</h2>
        <div id="shop-items"></div>
    </div>

    <div class="achievements">
        <h2>Achievements</h2>
        <ul id="achievements-list"></ul>
    </div>

    <div class="crates">
        <h2>Crates</h2>
        <div class="crate-item" id="crate-1">
            <span>Basic Crate (Cost: 5000)</span>
            <button onclick="buyCrate(1)">Buy</button>
        </div>
        <div class="crate-item" id="crate-2">
            <span>Advanced Crate (Cost: 10000)</span>
            <button onclick="buyCrate(2)">Buy</button>
        </div>
        <div class="crate-item" id="crate-3">
            <span>Premium Crate (Cost: 20000)</span>
            <button onclick="buyCrate(3)">Buy</button>
        </div>
    </div>

    <div class="events">
        <h2>Events</h2>
        <div id="event-log"></div>
    </div>

    <script>
        let score = 0;
        let pointsPerClick = 1;
        let autoClickers = 0;
        let achievements = [];
        let skins = [];

        const scoreElement = document.getElementById('score');
        const catElement = document.getElementById('cat');
        const shopElement = document.querySelector('.shop');
        const shopItemsElement = document.getElementById('shop-items');
        const achievementsElement = document.querySelector('.achievements');
        const achievementsListElement = document.getElementById('achievements-list');
        const cratesElement = document.querySelector('.crates');
        const eventLogElement = document.getElementById('event-log');

        let rotationDegree = 0;

        catElement.addEventListener('click', () => {
            addPoints(pointsPerClick);
            rotateCat();
            checkAchievements();
        });

        function addPoints(points) {
            score += points;
            scoreElement.textContent = score;
            updateShop();
        }

        function rotateCat() {
            rotationDegree += 360;
            catElement.style.transform = `rotate(${rotationDegree}deg)`;
        }

        function toggleShop() {
            if (shopElement.style.display === 'none' || shopElement.style.display === '') {
                shopElement.style.display = 'block';
            } else {
                shopElement.style.display = 'none';
            }
        }

        function toggleAchievements() {
            if (achievementsElement.style.display === 'none' || achievementsElement.style.display === '') {
                achievementsElement.style.display = 'block';
            } else {
                achievementsElement.style.display = 'none';
            }
        }

        function toggleCrates() {
            if (cratesElement.style.display === 'none' || cratesElement.style.display === '') {
                cratesElement.style.display = 'block';
            } else {
                cratesElement.style.display = 'none';
            }
        }

        function buyItem(itemId) {
            const items = generateShopItems();

            const item = items.find(i => i.id === itemId);
            if (score >= item.cost) {
                score -= item.cost;
                item.effect();
                disableButton(itemId);
            }
            updateScore();
        }

        function buyCrate(crateId) {
            const crates = [
                { id: 1, cost: 5000, reward: 'Basic Skin' },
                { id: 2, cost: 10000, reward: 'Advanced Skin' },
                { id: 3, cost: 20000, reward: 'Premium Skin' },
            ];

            const crate = crates.find(c => c.id === crateId);
            if (score >= crate.cost) {
                score -= crate.cost;
                if (Math.random() < 0.01) {
                    skins.push(crate.reward);
                    logEvent(`You received a ${crate.reward}!`);
                } else {
                    const points = Math.floor(Math.random() * 10000) + 1;
                    score += points;
                    logEvent(`You received ${points} points!`);
                }
            }
            updateScore();
        }

        function disableButton(itemId) {
            const button = document.getElementById(`item-${itemId}`).querySelector('button');
            button.disabled = true;
            button.classList.add('disabled');
        }

        function updateScore() {
            scoreElement.textContent = score;
        }

        function updateShop() {
            const items = generateShopItems();

            items.forEach(item => {
                const button = document.getElementById(`item-${item.id}`).querySelector('button');
                if (score < item.cost) {
                    button.disabled = true;
                    button.classList.add('disabled');
                } else {
                    button.disabled = false;
                    button.classList.remove('disabled');
                }
            });
        }

        function generateShopItems() {
            const items = [];
            let cost = 50;
            const itemNames = [
                'Double Points', 'Triple Points', 'Quadruple Points', 'Auto Clicker', 'Quintuple Points',
                'Hexa Points', 'Hepta Points', 'Octa Points', 'Nona Points', 'Deca Points',
                'Undeca Points', 'Dodeca Points', 'Tredeca Points', 'Quattuordeca Points', 'Quindeca Points',
                'Sedeca Points', 'Septendeca Points', 'Octodeca Points', 'Novemdeca Points', 'Viginti Points',
                'Catnip Boost', 'Laser Pointer', 'Feather Toy', 'Cat Tree', 'Scratching Post',
                'Comfy Bed', 'Cat Castle', 'Interactive Toy', 'Self-Cleaning Litter Box', 'Gourmet Food',
                'Catnip Garden', 'Luxury Collar', 'Automatic Feeder', 'Cat Hammock', 'Cat Wheel',
                'Cat TV', 'Cat Backpack', 'Cat Fountain', 'Cat Condo', 'Cat Tunnel',
                'Cat Spa', 'Cat Grooming Kit', 'Cat Massage Chair', 'Cat Playhouse', 'Cat Treat Dispenser',
                'Cat Puzzle Feeder', 'Cat Laser Show', 'Cat Jungle Gym', 'Cat Climbing Wall', 'Cat Scratcher Lounge',
                'Cat Exercise Wheel', 'Cat Window Perch', 'Cat Heating Pad', 'Cat Tent', 'Cat Ball Pit',
                'Cat Activity Center', 'Catnip Spray', 'Cat Dancer Toy', 'Cat Feather Wand', 'Cat Mouse Toy',
                'Cat Scratching Mat', 'Catnip Bubbles', 'Catnip Fish Toy', 'Catnip Pillow', 'Catnip Banana',
                'Catnip Carrot', 'Catnip Mouse', 'Catnip Ball', 'Catnip Stick', 'Catnip Heart',
                'Cat Silhouette Lamp', 'Cat Night Light', 'Cat Bed Warmer', 'Cat Sofa', 'Cat House',
                'Cat Window Bed', 'Cat Hammock Bed', 'Cat Wall Climber', 'Cat Stairs', 'Cat Tower',
                'Cat Scratcher Post', 'Cat Tree House', 'Cat Window Perch Deluxe', 'Cat Play Tunnel', 'Cat Bed Cave',
                'Cat Tunnel Maze', 'Cat Activity Mat', 'Cat Scratching Barrel', 'Cat Tent House', 'Cat Travel Carrier',
                'Cat Carrier Backpack', 'Cat Bed Dome', 'Cat Bed Igloo', 'Cat Teepee', 'Cat Play Cube',
                'Cat Playhouse Deluxe', 'Cat Puzzle Toy', 'Cat Exercise Toy', 'Cat Treat Ball', 'Cat Feather Teaser',
                'Cat Scratcher Pad', 'Catnip Toy Set', 'Catnip Toy Collection', 'Catnip Variety Pack', 'Catnip Toy Bundle',
                'Catnip Chew Toy', 'Catnip Kitty Krack', 'Catnip Infused Toy', 'Catnip Cat Toy', 'Catnip Toy Mouse',
                'Catnip Toy Fish', 'Catnip Toy Bird', 'Catnip Toy Snake', 'Catnip Toy Bunny', 'Catnip Toy Carrot',
                'Catnip Toy Banana', 'Catnip Toy Apple', 'Catnip Toy Pear', 'Catnip Toy Orange', 'Catnip Toy Lemon',
                'Catnip Toy Strawberry', 'Catnip Toy Blueberry', 'Catnip Toy Grape', 'Catnip Toy Cherry', 'Catnip Toy Pineapple',
                'Catnip Toy Watermelon', 'Catnip Toy Coconut', 'Catnip Toy Kiwi', 'Catnip Toy Mango', 'Catnip Toy Papaya',
                'Catnip Toy Guava', 'Catnip Toy Avocado', 'Catnip Toy Dragonfruit', 'Catnip Toy Starfruit', 'Catnip Toy Tomato',
                'Catnip Toy Pumpkin', 'Catnip Toy Squash', 'Catnip Toy Zucchini', 'Catnip Toy Cucumber', 'Catnip Toy Radish',
                'Catnip Toy Beet', 'Catnip Toy Carrot', 'Catnip Toy Turnip', 'Catnip Toy Potato', 'Catnip Toy Sweet Potato',
                'Catnip Toy Yam', 'Catnip Toy Corn', 'Catnip Toy Peas', 'Catnip Toy Beans', 'Catnip Toy Lentils',
                'Catnip Toy Chickpeas', 'Catnip Toy Quinoa', 'Catnip Toy Rice', 'Catnip Toy Oats', 'Catnip Toy Barley',
                'Catnip Toy Wheat', 'Catnip Toy Rye', 'Catnip Toy Millet', 'Catnip Toy Sorghum', 'Catnip Toy Amaranth',
                'Catnip Toy Teff', 'Catnip Toy Buckwheat', 'Catnip Toy Spelt', 'Catnip Toy Farro', 'Catnip Toy Einkorn',
                'Catnip Toy Kamut', 'Catnip Toy Emmer', 'Catnip Toy Freekeh', 'Catnip Toy Bulgur', 'Catnip Toy Couscous',
                'Catnip Toy Semolina', 'Catnip Toy Polenta', 'Catnip Toy Grits', 'Catnip Toy Masa', 'Catnip Toy Cornmeal',
                'Catnip Toy Cornstarch', 'Catnip Toy Arrowroot', 'Catnip Toy Tapioca', 'Catnip Toy Potatoes', 'Catnip Toy Sweet Potatoes',
                'Catnip Toy Yams', 'Catnip Toy Cassava', 'Catnip Toy Plantains', 'Catnip Toy Bananas', 'Catnip Toy Mangoes',
                'Catnip Toy Pineapples', 'Catnip Toy Watermelons', 'Catnip Toy Kiwis', 'Catnip Toy Dragonfruit', 'Catnip Toy Starfruit'
            ];

            for (let i = 1; i <= 360; i++) {
                const name = itemNames[i % itemNames.length];
                const effect = i % 4 === 0 && i === 4 ? () => { autoClickers++; setInterval(() => addPoints(pointsPerClick), 2000); } : () => pointsPerClick *= (i % 3) + 2;

                items.push({
                    id: i,
                    name: `${name} ${Math.ceil(i / itemNames.length)}`,
                    cost,
                    effect
                });

                cost *= 3;
            }

            // Render shop items
            shopItemsElement.innerHTML = items.map(item => `
                <div class="shop-item" id="item-${item.id}">
                    <span>${item.name} (Cost: ${item.cost})</span>
                    <button onclick="buyItem(${item.id})">Buy</button>
                </div>
            `).join('');
            return items;
        }

        function checkAchievements() {
            const achievementList = [
                { name: 'First Click', condition: () => score >= 1 },
                { name: 'Hundred Points', condition: () => score >= 100 },
                { name: 'Thousand Points', condition: () => score >= 1000 },
                { name: 'Ten Thousand Points', condition: () => score >= 10000 },
            ];

            achievementList.forEach(ach => {
                if (ach.condition() && !achievements.includes(ach.name)) {
                    achievements.push(ach.name);
                    const li = document.createElement('li');
                    li.textContent = ach.name;
                    achievementsListElement.appendChild(li);
                }
            });
        }

        function logEvent(message) {
            const p = document.createElement('p');
            p.textContent = message;
            eventLogElement.appendChild(p);
        }

        function resetProgress() {
            score = 0;
            pointsPerClick = 1;
            autoClickers = 0;
            achievements = [];
            skins = [];
            updateScore();
            shopItemsElement.innerHTML = '';
            achievementsListElement.innerHTML = '';
            logEvent('Progress has been reset!');
        }

        function spawnCatEmoji() {
            const catEmoji = document.createElement('div');
            catEmoji.className = 'cat-emoji';
            catEmoji.textContent = '🐱';
            catEmoji.style.top = `${Math.random() * 80 + 10}%`;
            catEmoji.style.left = `${Math.random() * 80 + 10}%`;
            catEmoji.addEventListener('click', () => {
                resetProgress();
                catEmoji.remove();
            });
            document.body.appendChild(catEmoji);

            setTimeout(() => {
                if (document.body.contains(catEmoji)) {
                    catEmoji.remove();
                }
            }, 10000); // Remove after 10 seconds if not clicked
        }

        // Random events
        setInterval(() => {
            const randomEvent = Math.random();
            if (randomEvent < 0.1) {
                const points = Math.floor(Math.random() * 100) + 1;
                score += points;
                logEvent(`You found ${points} bonus points!`);
                updateScore();
            } else if (randomEvent < 0.2) {
                const points = Math.floor(Math.random() * 50) + 1;
                score -= points;
                logEvent(`You lost ${points} points!`);
                updateScore();
            } else if (randomEvent < 0.001) { // Super rare chance
                spawnCatEmoji();
            }
        }, Math.floor(Math.random() * 60000) + 60000); // Random interval between 1 and 2 minutes

        generateShopItems(); // Initialize the shop items
    </script>
</body>
</html>